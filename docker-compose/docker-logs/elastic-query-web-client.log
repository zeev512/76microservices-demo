2021-10-29 16:05:00 [background-preinit] DEBUG org.jboss.logging - Logging Provider: org.jboss.logging.Log4j2LoggerProvider
2021-10-29 16:05:00 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.0.Final
2021-10-29 16:05:00 [background-preinit] DEBUG o.h.v.i.x.config.ValidationXmlParser - Trying to load META-INF/validation.xml for XML based Validator configuration.
2021-10-29 16:05:00 [background-preinit] DEBUG o.h.v.i.x.c.ResourceLoaderHelper - Trying to load META-INF/validation.xml via TCCL
2021-10-29 16:05:00 [background-preinit] DEBUG o.h.v.i.x.c.ResourceLoaderHelper - Trying to load META-INF/validation.xml via Hibernate Validator's class loader
2021-10-29 16:05:00 [background-preinit] DEBUG o.h.v.i.x.config.ValidationXmlParser - No META-INF/validation.xml found. Using annotation based configuration only.
2021-10-29 16:05:00 [main] INFO  i.c.m.i.e.q.w.c.ElasticQueryWebClientApplication - Starting ElasticQueryWebClientApplication v1.0 using Java 11.0.13 on 67a37fbb765f with PID 438 (/workspace/BOOT-INF/classes started by root in /workspace)
2021-10-29 16:05:00 [main] INFO  i.c.m.i.e.q.w.c.ElasticQueryWebClientApplication - The following profiles are active: elastic_query_web
2021-10-29 16:05:00 [main] DEBUG o.s.boot.SpringApplication - Loading source class il.co.migdal.ins.elastic.query.web.client.ElasticQueryWebClientApplication
2021-10-29 16:05:00 [background-preinit] DEBUG o.h.v.i.e.r.TraversableResolvers - Cannot find javax.persistence.Persistence on classpath. Assuming non JPA 2 environment. All properties will per default be traversable.
2021-10-29 16:05:01 [background-preinit] DEBUG o.h.v.m.ResourceBundleMessageInterpolator - Loaded expression factory via original TCCL
2021-10-29 16:05:01 [main] DEBUG o.s.c.b.b.BindingSpecificEnvironmentPostProcessor - No Kubernetes Service Bindings found. Skipping Environment post-processing.
2021-10-29 16:05:01 [main] INFO  o.s.b.c.config.ConfigDataLoader - Fetching config from server at : http://config-server:8888
2021-10-29 16:05:01 [main] INFO  o.s.b.c.config.ConfigDataLoader - Located environment: name=elastic-query-web-client,config-client, profiles=[elastic_query_web], label=null, version=59d1ea42b85e8c60e4da9d5c70398cc030cd6d36, state=null
2021-10-29 16:05:01 [main] DEBUG o.s.b.c.config.ConfigDataLoader - Environment elastic-query-web-client,config-client has 2 property sources with 25 properties.
2021-10-29 16:05:01 [main] DEBUG o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@2125ad3
2021-10-29 16:05:01 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
2021-10-29 16:05:01 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.internalCachingMetadataReaderFactory'
2021-10-29 16:05:01 [background-preinit] DEBUG o.h.v.i.e.ValidatorFactoryConfigurationHelper - HV000252: Using org.hibernate.validator.internal.engine.DefaultPropertyNodeNameProvider as property node name provider.
2021-10-29 16:05:01 [background-preinit] DEBUG o.h.v.i.e.ValidatorFactoryConfigurationHelper - HV000234: Using org.hibernate.validator.messageinterpolation.ResourceBundleMessageInterpolator as ValidatorFactory-scoped message interpolator.
2021-10-29 16:05:01 [background-preinit] DEBUG o.h.v.i.e.ValidatorFactoryConfigurationHelper - HV000234: Using org.hibernate.validator.internal.engine.resolver.TraverseAllTraversableResolver as ValidatorFactory-scoped traversable resolver.
2021-10-29 16:05:01 [background-preinit] DEBUG o.h.v.i.e.ValidatorFactoryConfigurationHelper - HV000234: Using org.hibernate.validator.internal.util.ExecutableParameterNameProvider as ValidatorFactory-scoped parameter name provider.
2021-10-29 16:05:01 [background-preinit] DEBUG o.h.v.i.e.ValidatorFactoryConfigurationHelper - HV000234: Using org.hibernate.validator.internal.engine.DefaultClockProvider as ValidatorFactory-scoped clock provider.
2021-10-29 16:05:01 [background-preinit] DEBUG o.h.v.i.e.ValidatorFactoryConfigurationHelper - HV000234: Using org.hibernate.validator.internal.engine.scripting.DefaultScriptEvaluatorFactory as ValidatorFactory-scoped script evaluator factory.
2021-10-29 16:05:01 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/workspace/BOOT-INF/classes/il/co/migdal/ins/elastic/query/web/client/config/WebClientConfig.class]
2021-10-29 16:05:01 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/workspace/BOOT-INF/classes/il/co/migdal/ins/elastic/query/web/client/config/WebSecurityConfig.class]
2021-10-29 16:05:01 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/workspace/BOOT-INF/classes/il/co/migdal/ins/elastic/query/web/client/rest/ElasticQueryWebClientErrorHandler.class]
2021-10-29 16:05:01 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/workspace/BOOT-INF/classes/il/co/migdal/ins/elastic/query/web/client/rest/QueryController.class]
2021-10-29 16:05:01 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/workspace/BOOT-INF/classes/il/co/migdal/ins/elastic/query/web/client/service/impl/TwitterElasticQueryWebClient.class]
2021-10-29 16:05:01 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/elastic-query-web-client-common-1.0.jar!/il/co/migdal/ins/elastic/query/web/client/common/api/error/handler/ElasticQueryWebClientErrorHandler.class]
2021-10-29 16:05:01 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/UserConfigData.class]
2021-10-29 16:05:01 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/KafkaProducerConfigData.class]
2021-10-29 16:05:01 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/ElasticQueryConfigData.class]
2021-10-29 16:05:01 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/AnalyticsServiceConfigData.class]
2021-10-29 16:05:01 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/ElasticQueryServiceConfigData.class]
2021-10-29 16:05:01 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/KafkaStreamsServiceConfigData.class]
2021-10-29 16:05:01 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/TwitterToKafkaServiceConfigData.class]
2021-10-29 16:05:01 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/KafkaConfigData.class]
2021-10-29 16:05:01 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/RetryConfigData.class]
2021-10-29 16:05:01 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/ElasticQueryWebClientConfigData.class]
2021-10-29 16:05:01 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/GatewayServiceConfigData.class]
2021-10-29 16:05:01 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/ElasticConfigData.class]
2021-10-29 16:05:01 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/KafkaConsumerConfigData.class]
2021-10-29 16:05:01 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/KafkaStreamsConfigData.class]
2021-10-29 16:05:01 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [il.co.migdal.ins.elastic.query.web.client.ElasticQueryWebClientApplication]; nested exception is org.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name 'elasticQueryWebClientErrorHandler' for bean class [il.co.migdal.ins.elastic.query.web.client.common.api.error.handler.ElasticQueryWebClientErrorHandler] conflicts with existing, non-compatible bean definition of same name and class [il.co.migdal.ins.elastic.query.web.client.rest.ElasticQueryWebClientErrorHandler]
2021-10-29 16:05:01 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [il.co.migdal.ins.elastic.query.web.client.ElasticQueryWebClientApplication]; nested exception is org.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name 'elasticQueryWebClientErrorHandler' for bean class [il.co.migdal.ins.elastic.query.web.client.common.api.error.handler.ElasticQueryWebClientErrorHandler] conflicts with existing, non-compatible bean definition of same name and class [il.co.migdal.ins.elastic.query.web.client.rest.ElasticQueryWebClientErrorHandler]
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:189)
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:331)
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112)
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:338)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1332)
	at il.co.migdal.ins.elastic.query.web.client.ElasticQueryWebClientApplication.main(ElasticQueryWebClientApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.base/java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88)
Caused by: org.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name 'elasticQueryWebClientErrorHandler' for bean class [il.co.migdal.ins.elastic.query.web.client.common.api.error.handler.ElasticQueryWebClientErrorHandler] conflicts with existing, non-compatible bean definition of same name and class [il.co.migdal.ins.elastic.query.web.client.rest.ElasticQueryWebClientErrorHandler]
	at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.checkCandidate(ClassPathBeanDefinitionScanner.java:349)
	at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:287)
	at org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:132)
	at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:296)
	at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:250)
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:207)
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:175)
	... 21 common frames omitted
2021-10-29 17:30:30 [background-preinit] DEBUG org.jboss.logging - Logging Provider: org.jboss.logging.Log4j2LoggerProvider
2021-10-29 17:30:30 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.0.Final
2021-10-29 17:30:30 [background-preinit] DEBUG o.h.v.i.x.config.ValidationXmlParser - Trying to load META-INF/validation.xml for XML based Validator configuration.
2021-10-29 17:30:30 [background-preinit] DEBUG o.h.v.i.x.c.ResourceLoaderHelper - Trying to load META-INF/validation.xml via TCCL
2021-10-29 17:30:30 [background-preinit] DEBUG o.h.v.i.x.c.ResourceLoaderHelper - Trying to load META-INF/validation.xml via Hibernate Validator's class loader
2021-10-29 17:30:30 [background-preinit] DEBUG o.h.v.i.x.config.ValidationXmlParser - No META-INF/validation.xml found. Using annotation based configuration only.
2021-10-29 17:30:30 [background-preinit] DEBUG o.h.v.i.e.r.TraversableResolvers - Cannot find javax.persistence.Persistence on classpath. Assuming non JPA 2 environment. All properties will per default be traversable.
2021-10-29 17:30:30 [main] INFO  i.c.m.i.e.q.w.c.ElasticQueryWebClientApplication - Starting ElasticQueryWebClientApplication v1.0 using Java 11.0.13 on 1b68637e6506 with PID 438 (/workspace/BOOT-INF/classes started by root in /workspace)
2021-10-29 17:30:30 [main] INFO  i.c.m.i.e.q.w.c.ElasticQueryWebClientApplication - The following profiles are active: elastic_query_web
2021-10-29 17:30:30 [main] DEBUG o.s.boot.SpringApplication - Loading source class il.co.migdal.ins.elastic.query.web.client.ElasticQueryWebClientApplication
2021-10-29 17:30:30 [background-preinit] DEBUG o.h.v.m.ResourceBundleMessageInterpolator - Loaded expression factory via original TCCL
2021-10-29 17:30:30 [main] DEBUG o.s.c.b.b.BindingSpecificEnvironmentPostProcessor - No Kubernetes Service Bindings found. Skipping Environment post-processing.
2021-10-29 17:30:30 [main] INFO  o.s.b.c.config.ConfigDataLoader - Fetching config from server at : http://config-server:8888
2021-10-29 17:30:30 [main] INFO  o.s.b.c.config.ConfigDataLoader - Located environment: name=elastic-query-web-client,config-client, profiles=[elastic_query_web], label=null, version=59d1ea42b85e8c60e4da9d5c70398cc030cd6d36, state=null
2021-10-29 17:30:30 [main] DEBUG o.s.b.c.config.ConfigDataLoader - Environment elastic-query-web-client,config-client has 2 property sources with 25 properties.
2021-10-29 17:30:30 [main] DEBUG o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@61fafb74
2021-10-29 17:30:30 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
2021-10-29 17:30:30 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.internalCachingMetadataReaderFactory'
2021-10-29 17:30:30 [background-preinit] DEBUG o.h.v.i.e.ValidatorFactoryConfigurationHelper - HV000252: Using org.hibernate.validator.internal.engine.DefaultPropertyNodeNameProvider as property node name provider.
2021-10-29 17:30:30 [background-preinit] DEBUG o.h.v.i.e.ValidatorFactoryConfigurationHelper - HV000234: Using org.hibernate.validator.messageinterpolation.ResourceBundleMessageInterpolator as ValidatorFactory-scoped message interpolator.
2021-10-29 17:30:30 [background-preinit] DEBUG o.h.v.i.e.ValidatorFactoryConfigurationHelper - HV000234: Using org.hibernate.validator.internal.engine.resolver.TraverseAllTraversableResolver as ValidatorFactory-scoped traversable resolver.
2021-10-29 17:30:30 [background-preinit] DEBUG o.h.v.i.e.ValidatorFactoryConfigurationHelper - HV000234: Using org.hibernate.validator.internal.util.ExecutableParameterNameProvider as ValidatorFactory-scoped parameter name provider.
2021-10-29 17:30:30 [background-preinit] DEBUG o.h.v.i.e.ValidatorFactoryConfigurationHelper - HV000234: Using org.hibernate.validator.internal.engine.DefaultClockProvider as ValidatorFactory-scoped clock provider.
2021-10-29 17:30:30 [background-preinit] DEBUG o.h.v.i.e.ValidatorFactoryConfigurationHelper - HV000234: Using org.hibernate.validator.internal.engine.scripting.DefaultScriptEvaluatorFactory as ValidatorFactory-scoped script evaluator factory.
2021-10-29 17:30:30 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/workspace/BOOT-INF/classes/il/co/migdal/ins/elastic/query/web/client/config/WebClientConfig.class]
2021-10-29 17:30:30 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/workspace/BOOT-INF/classes/il/co/migdal/ins/elastic/query/web/client/config/WebSecurityConfig.class]
2021-10-29 17:30:30 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/workspace/BOOT-INF/classes/il/co/migdal/ins/elastic/query/web/client/rest/ElasticQueryWebClientErrorHandler.class]
2021-10-29 17:30:30 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/workspace/BOOT-INF/classes/il/co/migdal/ins/elastic/query/web/client/rest/QueryController.class]
2021-10-29 17:30:30 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/workspace/BOOT-INF/classes/il/co/migdal/ins/elastic/query/web/client/service/impl/TwitterElasticQueryWebClient.class]
2021-10-29 17:30:30 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/elastic-query-web-client-common-1.0.jar!/il/co/migdal/ins/elastic/query/web/client/common/api/error/handler/ElasticQueryWebClientErrorHandler.class]
2021-10-29 17:30:30 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/UserConfigData.class]
2021-10-29 17:30:30 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/KafkaProducerConfigData.class]
2021-10-29 17:30:30 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/ElasticQueryConfigData.class]
2021-10-29 17:30:30 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/AnalyticsServiceConfigData.class]
2021-10-29 17:30:30 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/ElasticQueryServiceConfigData.class]
2021-10-29 17:30:30 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/KafkaStreamsServiceConfigData.class]
2021-10-29 17:30:30 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/TwitterToKafkaServiceConfigData.class]
2021-10-29 17:30:30 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/KafkaConfigData.class]
2021-10-29 17:30:30 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/RetryConfigData.class]
2021-10-29 17:30:30 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/ElasticQueryWebClientConfigData.class]
2021-10-29 17:30:30 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/GatewayServiceConfigData.class]
2021-10-29 17:30:30 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/ElasticConfigData.class]
2021-10-29 17:30:30 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/KafkaConsumerConfigData.class]
2021-10-29 17:30:30 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/KafkaStreamsConfigData.class]
2021-10-29 17:30:30 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [il.co.migdal.ins.elastic.query.web.client.ElasticQueryWebClientApplication]; nested exception is org.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name 'elasticQueryWebClientErrorHandler' for bean class [il.co.migdal.ins.elastic.query.web.client.common.api.error.handler.ElasticQueryWebClientErrorHandler] conflicts with existing, non-compatible bean definition of same name and class [il.co.migdal.ins.elastic.query.web.client.rest.ElasticQueryWebClientErrorHandler]
2021-10-29 17:30:30 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [il.co.migdal.ins.elastic.query.web.client.ElasticQueryWebClientApplication]; nested exception is org.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name 'elasticQueryWebClientErrorHandler' for bean class [il.co.migdal.ins.elastic.query.web.client.common.api.error.handler.ElasticQueryWebClientErrorHandler] conflicts with existing, non-compatible bean definition of same name and class [il.co.migdal.ins.elastic.query.web.client.rest.ElasticQueryWebClientErrorHandler]
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:189)
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:331)
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112)
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:338)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1332)
	at il.co.migdal.ins.elastic.query.web.client.ElasticQueryWebClientApplication.main(ElasticQueryWebClientApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.base/java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88)
Caused by: org.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name 'elasticQueryWebClientErrorHandler' for bean class [il.co.migdal.ins.elastic.query.web.client.common.api.error.handler.ElasticQueryWebClientErrorHandler] conflicts with existing, non-compatible bean definition of same name and class [il.co.migdal.ins.elastic.query.web.client.rest.ElasticQueryWebClientErrorHandler]
	at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.checkCandidate(ClassPathBeanDefinitionScanner.java:349)
	at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:287)
	at org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:132)
	at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:296)
	at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:250)
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:207)
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:175)
	... 21 common frames omitted
2021-10-29 17:45:58 [main] INFO  i.c.m.i.e.q.w.c.ElasticQueryWebClientApplication - Starting ElasticQueryWebClientApplication v1.0 using Java 11.0.13 on 971abce54435 with PID 437 (/workspace/BOOT-INF/classes started by root in /workspace)
2021-10-29 17:45:58 [main] INFO  i.c.m.i.e.q.w.c.ElasticQueryWebClientApplication - The following profiles are active: elastic_query_web
2021-10-29 17:45:58 [main] DEBUG o.s.boot.SpringApplication - Loading source class il.co.migdal.ins.elastic.query.web.client.ElasticQueryWebClientApplication
2021-10-29 17:45:58 [background-preinit] DEBUG org.jboss.logging - Logging Provider: org.jboss.logging.Log4j2LoggerProvider
2021-10-29 17:45:58 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.0.Final
2021-10-29 17:45:58 [background-preinit] DEBUG o.h.v.i.x.config.ValidationXmlParser - Trying to load META-INF/validation.xml for XML based Validator configuration.
2021-10-29 17:45:58 [background-preinit] DEBUG o.h.v.i.x.c.ResourceLoaderHelper - Trying to load META-INF/validation.xml via TCCL
2021-10-29 17:45:58 [background-preinit] DEBUG o.h.v.i.x.c.ResourceLoaderHelper - Trying to load META-INF/validation.xml via Hibernate Validator's class loader
2021-10-29 17:45:58 [background-preinit] DEBUG o.h.v.i.x.config.ValidationXmlParser - No META-INF/validation.xml found. Using annotation based configuration only.
2021-10-29 17:45:58 [background-preinit] DEBUG o.h.v.i.e.r.TraversableResolvers - Cannot find javax.persistence.Persistence on classpath. Assuming non JPA 2 environment. All properties will per default be traversable.
2021-10-29 17:45:58 [main] DEBUG o.s.c.b.b.BindingSpecificEnvironmentPostProcessor - No Kubernetes Service Bindings found. Skipping Environment post-processing.
2021-10-29 17:45:58 [main] INFO  o.s.b.c.config.ConfigDataLoader - Fetching config from server at : http://config-server:8888
2021-10-29 17:45:58 [main] INFO  o.s.b.c.config.ConfigDataLoader - Located environment: name=elastic-query-web-client,config-client, profiles=[elastic_query_web], label=null, version=59d1ea42b85e8c60e4da9d5c70398cc030cd6d36, state=null
2021-10-29 17:45:58 [main] DEBUG o.s.b.c.config.ConfigDataLoader - Environment elastic-query-web-client,config-client has 2 property sources with 25 properties.
2021-10-29 17:45:58 [main] DEBUG o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@540a903b
2021-10-29 17:45:58 [background-preinit] DEBUG o.h.v.m.ResourceBundleMessageInterpolator - Loaded expression factory via original TCCL
2021-10-29 17:45:58 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
2021-10-29 17:45:58 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.internalCachingMetadataReaderFactory'
2021-10-29 17:45:58 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/workspace/BOOT-INF/classes/il/co/migdal/ins/elastic/query/web/client/config/WebClientConfig.class]
2021-10-29 17:45:58 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/workspace/BOOT-INF/classes/il/co/migdal/ins/elastic/query/web/client/config/WebSecurityConfig.class]
2021-10-29 17:45:58 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/workspace/BOOT-INF/classes/il/co/migdal/ins/elastic/query/web/client/rest/ElasticQueryWebClientErrorHandler.class]
2021-10-29 17:45:58 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/workspace/BOOT-INF/classes/il/co/migdal/ins/elastic/query/web/client/rest/QueryController.class]
2021-10-29 17:45:58 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/workspace/BOOT-INF/classes/il/co/migdal/ins/elastic/query/web/client/service/impl/TwitterElasticQueryWebClient.class]
2021-10-29 17:45:58 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/elastic-query-web-client-common-1.0.jar!/il/co/migdal/ins/elastic/query/web/client/common/api/error/handler/ElasticQueryWebClientErrorHandler.class]
2021-10-29 17:45:58 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/UserConfigData.class]
2021-10-29 17:45:58 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/KafkaProducerConfigData.class]
2021-10-29 17:45:58 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/ElasticQueryConfigData.class]
2021-10-29 17:45:58 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/AnalyticsServiceConfigData.class]
2021-10-29 17:45:58 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/ElasticQueryServiceConfigData.class]
2021-10-29 17:45:58 [background-preinit] DEBUG o.h.v.i.e.ValidatorFactoryConfigurationHelper - HV000252: Using org.hibernate.validator.internal.engine.DefaultPropertyNodeNameProvider as property node name provider.
2021-10-29 17:45:58 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/KafkaStreamsServiceConfigData.class]
2021-10-29 17:45:58 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/TwitterToKafkaServiceConfigData.class]
2021-10-29 17:45:58 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/KafkaConfigData.class]
2021-10-29 17:45:58 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/RetryConfigData.class]
2021-10-29 17:45:58 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/ElasticQueryWebClientConfigData.class]
2021-10-29 17:45:58 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/GatewayServiceConfigData.class]
2021-10-29 17:45:58 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/ElasticConfigData.class]
2021-10-29 17:45:58 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/KafkaConsumerConfigData.class]
2021-10-29 17:45:58 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/KafkaStreamsConfigData.class]
2021-10-29 17:45:58 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [il.co.migdal.ins.elastic.query.web.client.ElasticQueryWebClientApplication]; nested exception is org.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name 'elasticQueryWebClientErrorHandler' for bean class [il.co.migdal.ins.elastic.query.web.client.common.api.error.handler.ElasticQueryWebClientErrorHandler] conflicts with existing, non-compatible bean definition of same name and class [il.co.migdal.ins.elastic.query.web.client.rest.ElasticQueryWebClientErrorHandler]
2021-10-29 17:45:58 [background-preinit] DEBUG o.h.v.i.e.ValidatorFactoryConfigurationHelper - HV000234: Using org.hibernate.validator.messageinterpolation.ResourceBundleMessageInterpolator as ValidatorFactory-scoped message interpolator.
2021-10-29 17:45:58 [background-preinit] DEBUG o.h.v.i.e.ValidatorFactoryConfigurationHelper - HV000234: Using org.hibernate.validator.internal.engine.resolver.TraverseAllTraversableResolver as ValidatorFactory-scoped traversable resolver.
2021-10-29 17:45:58 [background-preinit] DEBUG o.h.v.i.e.ValidatorFactoryConfigurationHelper - HV000234: Using org.hibernate.validator.internal.util.ExecutableParameterNameProvider as ValidatorFactory-scoped parameter name provider.
2021-10-29 17:45:58 [background-preinit] DEBUG o.h.v.i.e.ValidatorFactoryConfigurationHelper - HV000234: Using org.hibernate.validator.internal.engine.DefaultClockProvider as ValidatorFactory-scoped clock provider.
2021-10-29 17:45:58 [background-preinit] DEBUG o.h.v.i.e.ValidatorFactoryConfigurationHelper - HV000234: Using org.hibernate.validator.internal.engine.scripting.DefaultScriptEvaluatorFactory as ValidatorFactory-scoped script evaluator factory.
2021-10-29 17:45:58 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [il.co.migdal.ins.elastic.query.web.client.ElasticQueryWebClientApplication]; nested exception is org.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name 'elasticQueryWebClientErrorHandler' for bean class [il.co.migdal.ins.elastic.query.web.client.common.api.error.handler.ElasticQueryWebClientErrorHandler] conflicts with existing, non-compatible bean definition of same name and class [il.co.migdal.ins.elastic.query.web.client.rest.ElasticQueryWebClientErrorHandler]
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:189)
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:331)
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112)
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:338)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1332)
	at il.co.migdal.ins.elastic.query.web.client.ElasticQueryWebClientApplication.main(ElasticQueryWebClientApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.base/java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88)
Caused by: org.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name 'elasticQueryWebClientErrorHandler' for bean class [il.co.migdal.ins.elastic.query.web.client.common.api.error.handler.ElasticQueryWebClientErrorHandler] conflicts with existing, non-compatible bean definition of same name and class [il.co.migdal.ins.elastic.query.web.client.rest.ElasticQueryWebClientErrorHandler]
	at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.checkCandidate(ClassPathBeanDefinitionScanner.java:349)
	at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:287)
	at org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:132)
	at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:296)
	at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:250)
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:207)
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:175)
	... 21 common frames omitted
2021-10-29 17:57:53 [main] INFO  i.c.m.i.e.q.w.c.ElasticQueryWebClientApplication - Starting ElasticQueryWebClientApplication v1.0 using Java 11.0.13 on 19650ab4e0be with PID 438 (/workspace/BOOT-INF/classes started by root in /workspace)
2021-10-29 17:57:53 [main] INFO  i.c.m.i.e.q.w.c.ElasticQueryWebClientApplication - The following profiles are active: elastic_query_web
2021-10-29 17:57:53 [main] DEBUG o.s.boot.SpringApplication - Loading source class il.co.migdal.ins.elastic.query.web.client.ElasticQueryWebClientApplication
2021-10-29 17:57:54 [background-preinit] DEBUG org.jboss.logging - Logging Provider: org.jboss.logging.Log4j2LoggerProvider
2021-10-29 17:57:54 [main] DEBUG o.s.c.b.b.BindingSpecificEnvironmentPostProcessor - No Kubernetes Service Bindings found. Skipping Environment post-processing.
2021-10-29 17:57:54 [main] INFO  o.s.b.c.config.ConfigDataLoader - Fetching config from server at : http://config-server:8888
2021-10-29 17:57:54 [main] INFO  o.s.b.c.config.ConfigDataLoader - Located environment: name=elastic-query-web-client,config-client, profiles=[elastic_query_web], label=null, version=59d1ea42b85e8c60e4da9d5c70398cc030cd6d36, state=null
2021-10-29 17:57:54 [main] DEBUG o.s.b.c.config.ConfigDataLoader - Environment elastic-query-web-client,config-client has 2 property sources with 25 properties.
2021-10-29 17:57:54 [main] DEBUG o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@f4c0e4e
2021-10-29 17:57:54 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.0.Final
2021-10-29 17:57:54 [background-preinit] DEBUG o.h.v.i.x.config.ValidationXmlParser - Trying to load META-INF/validation.xml for XML based Validator configuration.
2021-10-29 17:57:54 [background-preinit] DEBUG o.h.v.i.x.c.ResourceLoaderHelper - Trying to load META-INF/validation.xml via TCCL
2021-10-29 17:57:54 [background-preinit] DEBUG o.h.v.i.x.c.ResourceLoaderHelper - Trying to load META-INF/validation.xml via Hibernate Validator's class loader
2021-10-29 17:57:54 [background-preinit] DEBUG o.h.v.i.x.config.ValidationXmlParser - No META-INF/validation.xml found. Using annotation based configuration only.
2021-10-29 17:57:54 [background-preinit] DEBUG o.h.v.i.e.r.TraversableResolvers - Cannot find javax.persistence.Persistence on classpath. Assuming non JPA 2 environment. All properties will per default be traversable.
2021-10-29 17:57:54 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
2021-10-29 17:57:54 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.internalCachingMetadataReaderFactory'
2021-10-29 17:57:54 [background-preinit] DEBUG o.h.v.m.ResourceBundleMessageInterpolator - Loaded expression factory via original TCCL
2021-10-29 17:57:54 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/workspace/BOOT-INF/classes/il/co/migdal/ins/elastic/query/web/client/config/WebClientConfig.class]
2021-10-29 17:57:54 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/workspace/BOOT-INF/classes/il/co/migdal/ins/elastic/query/web/client/config/WebSecurityConfig.class]
2021-10-29 17:57:54 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/workspace/BOOT-INF/classes/il/co/migdal/ins/elastic/query/web/client/rest/ElasticQueryWebClientErrorHandler.class]
2021-10-29 17:57:54 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/workspace/BOOT-INF/classes/il/co/migdal/ins/elastic/query/web/client/rest/QueryController.class]
2021-10-29 17:57:54 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/workspace/BOOT-INF/classes/il/co/migdal/ins/elastic/query/web/client/service/impl/TwitterElasticQueryWebClient.class]
2021-10-29 17:57:54 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/elastic-query-web-client-common-1.0.jar!/il/co/migdal/ins/elastic/query/web/client/common/api/error/handler/ElasticQueryWebClientErrorHandler.class]
2021-10-29 17:57:54 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/UserConfigData.class]
2021-10-29 17:57:54 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/KafkaProducerConfigData.class]
2021-10-29 17:57:54 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/ElasticQueryConfigData.class]
2021-10-29 17:57:54 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/AnalyticsServiceConfigData.class]
2021-10-29 17:57:54 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/ElasticQueryServiceConfigData.class]
2021-10-29 17:57:54 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/KafkaStreamsServiceConfigData.class]
2021-10-29 17:57:54 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/TwitterToKafkaServiceConfigData.class]
2021-10-29 17:57:54 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/KafkaConfigData.class]
2021-10-29 17:57:54 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/RetryConfigData.class]
2021-10-29 17:57:54 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/ElasticQueryWebClientConfigData.class]
2021-10-29 17:57:55 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/GatewayServiceConfigData.class]
2021-10-29 17:57:55 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/ElasticConfigData.class]
2021-10-29 17:57:55 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/KafkaConsumerConfigData.class]
2021-10-29 17:57:55 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/KafkaStreamsConfigData.class]
2021-10-29 17:57:55 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [il.co.migdal.ins.elastic.query.web.client.ElasticQueryWebClientApplication]; nested exception is org.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name 'elasticQueryWebClientErrorHandler' for bean class [il.co.migdal.ins.elastic.query.web.client.common.api.error.handler.ElasticQueryWebClientErrorHandler] conflicts with existing, non-compatible bean definition of same name and class [il.co.migdal.ins.elastic.query.web.client.rest.ElasticQueryWebClientErrorHandler]
2021-10-29 17:57:55 [background-preinit] DEBUG o.h.v.i.e.ValidatorFactoryConfigurationHelper - HV000252: Using org.hibernate.validator.internal.engine.DefaultPropertyNodeNameProvider as property node name provider.
2021-10-29 17:57:55 [background-preinit] DEBUG o.h.v.i.e.ValidatorFactoryConfigurationHelper - HV000234: Using org.hibernate.validator.messageinterpolation.ResourceBundleMessageInterpolator as ValidatorFactory-scoped message interpolator.
2021-10-29 17:57:55 [background-preinit] DEBUG o.h.v.i.e.ValidatorFactoryConfigurationHelper - HV000234: Using org.hibernate.validator.internal.engine.resolver.TraverseAllTraversableResolver as ValidatorFactory-scoped traversable resolver.
2021-10-29 17:57:55 [background-preinit] DEBUG o.h.v.i.e.ValidatorFactoryConfigurationHelper - HV000234: Using org.hibernate.validator.internal.util.ExecutableParameterNameProvider as ValidatorFactory-scoped parameter name provider.
2021-10-29 17:57:55 [background-preinit] DEBUG o.h.v.i.e.ValidatorFactoryConfigurationHelper - HV000234: Using org.hibernate.validator.internal.engine.DefaultClockProvider as ValidatorFactory-scoped clock provider.
2021-10-29 17:57:55 [background-preinit] DEBUG o.h.v.i.e.ValidatorFactoryConfigurationHelper - HV000234: Using org.hibernate.validator.internal.engine.scripting.DefaultScriptEvaluatorFactory as ValidatorFactory-scoped script evaluator factory.
2021-10-29 17:57:55 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [il.co.migdal.ins.elastic.query.web.client.ElasticQueryWebClientApplication]; nested exception is org.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name 'elasticQueryWebClientErrorHandler' for bean class [il.co.migdal.ins.elastic.query.web.client.common.api.error.handler.ElasticQueryWebClientErrorHandler] conflicts with existing, non-compatible bean definition of same name and class [il.co.migdal.ins.elastic.query.web.client.rest.ElasticQueryWebClientErrorHandler]
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:189)
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:331)
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112)
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:338)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1332)
	at il.co.migdal.ins.elastic.query.web.client.ElasticQueryWebClientApplication.main(ElasticQueryWebClientApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.base/java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88)
Caused by: org.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name 'elasticQueryWebClientErrorHandler' for bean class [il.co.migdal.ins.elastic.query.web.client.common.api.error.handler.ElasticQueryWebClientErrorHandler] conflicts with existing, non-compatible bean definition of same name and class [il.co.migdal.ins.elastic.query.web.client.rest.ElasticQueryWebClientErrorHandler]
	at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.checkCandidate(ClassPathBeanDefinitionScanner.java:349)
	at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:287)
	at org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:132)
	at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:296)
	at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:250)
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:207)
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:175)
	... 21 common frames omitted
2021-10-29 18:22:20 [main] INFO  i.c.m.i.e.q.w.c.ElasticQueryWebClientApplication - Starting ElasticQueryWebClientApplication v1.0 using Java 11.0.13 on c0e491b16046 with PID 438 (/workspace/BOOT-INF/classes started by root in /workspace)
2021-10-29 18:22:20 [main] INFO  i.c.m.i.e.q.w.c.ElasticQueryWebClientApplication - The following profiles are active: elastic_query_web
2021-10-29 18:22:20 [main] DEBUG o.s.boot.SpringApplication - Loading source class il.co.migdal.ins.elastic.query.web.client.ElasticQueryWebClientApplication
2021-10-29 18:22:20 [background-preinit] DEBUG org.jboss.logging - Logging Provider: org.jboss.logging.Log4j2LoggerProvider
2021-10-29 18:22:20 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.0.Final
2021-10-29 18:22:20 [background-preinit] DEBUG o.h.v.i.x.config.ValidationXmlParser - Trying to load META-INF/validation.xml for XML based Validator configuration.
2021-10-29 18:22:20 [background-preinit] DEBUG o.h.v.i.x.c.ResourceLoaderHelper - Trying to load META-INF/validation.xml via TCCL
2021-10-29 18:22:20 [background-preinit] DEBUG o.h.v.i.x.c.ResourceLoaderHelper - Trying to load META-INF/validation.xml via Hibernate Validator's class loader
2021-10-29 18:22:20 [background-preinit] DEBUG o.h.v.i.x.config.ValidationXmlParser - No META-INF/validation.xml found. Using annotation based configuration only.
2021-10-29 18:22:20 [background-preinit] DEBUG o.h.v.i.e.r.TraversableResolvers - Cannot find javax.persistence.Persistence on classpath. Assuming non JPA 2 environment. All properties will per default be traversable.
2021-10-29 18:22:20 [main] DEBUG o.s.c.b.b.BindingSpecificEnvironmentPostProcessor - No Kubernetes Service Bindings found. Skipping Environment post-processing.
2021-10-29 18:22:20 [main] INFO  o.s.b.c.config.ConfigDataLoader - Fetching config from server at : http://config-server:8888
2021-10-29 18:22:20 [main] INFO  o.s.b.c.config.ConfigDataLoader - Located environment: name=elastic-query-web-client,config-client, profiles=[elastic_query_web], label=null, version=59d1ea42b85e8c60e4da9d5c70398cc030cd6d36, state=null
2021-10-29 18:22:20 [main] DEBUG o.s.b.c.config.ConfigDataLoader - Environment elastic-query-web-client,config-client has 2 property sources with 25 properties.
2021-10-29 18:22:20 [main] DEBUG o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@bc0f53b
2021-10-29 18:22:20 [background-preinit] DEBUG o.h.v.m.ResourceBundleMessageInterpolator - Loaded expression factory via original TCCL
2021-10-29 18:22:20 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
2021-10-29 18:22:20 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.internalCachingMetadataReaderFactory'
2021-10-29 18:22:21 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/workspace/BOOT-INF/classes/il/co/migdal/ins/elastic/query/web/client/config/WebClientConfig.class]
2021-10-29 18:22:21 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/workspace/BOOT-INF/classes/il/co/migdal/ins/elastic/query/web/client/config/WebSecurityConfig.class]
2021-10-29 18:22:21 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/workspace/BOOT-INF/classes/il/co/migdal/ins/elastic/query/web/client/rest/ElasticQueryWebClientErrorHandler.class]
2021-10-29 18:22:21 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/workspace/BOOT-INF/classes/il/co/migdal/ins/elastic/query/web/client/rest/QueryController.class]
2021-10-29 18:22:21 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/workspace/BOOT-INF/classes/il/co/migdal/ins/elastic/query/web/client/service/impl/TwitterElasticQueryWebClient.class]
2021-10-29 18:22:21 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/elastic-query-web-client-common-1.0.jar!/il/co/migdal/ins/elastic/query/web/client/common/api/error/handler/ElasticQueryWebClientErrorHandler.class]
2021-10-29 18:22:21 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/UserConfigData.class]
2021-10-29 18:22:21 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/KafkaProducerConfigData.class]
2021-10-29 18:22:21 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/ElasticQueryConfigData.class]
2021-10-29 18:22:21 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/AnalyticsServiceConfigData.class]
2021-10-29 18:22:21 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/ElasticQueryServiceConfigData.class]
2021-10-29 18:22:21 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/KafkaStreamsServiceConfigData.class]
2021-10-29 18:22:21 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/TwitterToKafkaServiceConfigData.class]
2021-10-29 18:22:21 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/KafkaConfigData.class]
2021-10-29 18:22:21 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/RetryConfigData.class]
2021-10-29 18:22:21 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/ElasticQueryWebClientConfigData.class]
2021-10-29 18:22:21 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/GatewayServiceConfigData.class]
2021-10-29 18:22:21 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/ElasticConfigData.class]
2021-10-29 18:22:21 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/KafkaConsumerConfigData.class]
2021-10-29 18:22:21 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/KafkaStreamsConfigData.class]
2021-10-29 18:22:21 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [il.co.migdal.ins.elastic.query.web.client.ElasticQueryWebClientApplication]; nested exception is org.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name 'elasticQueryWebClientErrorHandler' for bean class [il.co.migdal.ins.elastic.query.web.client.common.api.error.handler.ElasticQueryWebClientErrorHandler] conflicts with existing, non-compatible bean definition of same name and class [il.co.migdal.ins.elastic.query.web.client.rest.ElasticQueryWebClientErrorHandler]
2021-10-29 18:22:21 [background-preinit] DEBUG o.h.v.i.e.ValidatorFactoryConfigurationHelper - HV000252: Using org.hibernate.validator.internal.engine.DefaultPropertyNodeNameProvider as property node name provider.
2021-10-29 18:22:21 [background-preinit] DEBUG o.h.v.i.e.ValidatorFactoryConfigurationHelper - HV000234: Using org.hibernate.validator.messageinterpolation.ResourceBundleMessageInterpolator as ValidatorFactory-scoped message interpolator.
2021-10-29 18:22:21 [background-preinit] DEBUG o.h.v.i.e.ValidatorFactoryConfigurationHelper - HV000234: Using org.hibernate.validator.internal.engine.resolver.TraverseAllTraversableResolver as ValidatorFactory-scoped traversable resolver.
2021-10-29 18:22:21 [background-preinit] DEBUG o.h.v.i.e.ValidatorFactoryConfigurationHelper - HV000234: Using org.hibernate.validator.internal.util.ExecutableParameterNameProvider as ValidatorFactory-scoped parameter name provider.
2021-10-29 18:22:21 [background-preinit] DEBUG o.h.v.i.e.ValidatorFactoryConfigurationHelper - HV000234: Using org.hibernate.validator.internal.engine.DefaultClockProvider as ValidatorFactory-scoped clock provider.
2021-10-29 18:22:21 [background-preinit] DEBUG o.h.v.i.e.ValidatorFactoryConfigurationHelper - HV000234: Using org.hibernate.validator.internal.engine.scripting.DefaultScriptEvaluatorFactory as ValidatorFactory-scoped script evaluator factory.
2021-10-29 18:22:21 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [il.co.migdal.ins.elastic.query.web.client.ElasticQueryWebClientApplication]; nested exception is org.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name 'elasticQueryWebClientErrorHandler' for bean class [il.co.migdal.ins.elastic.query.web.client.common.api.error.handler.ElasticQueryWebClientErrorHandler] conflicts with existing, non-compatible bean definition of same name and class [il.co.migdal.ins.elastic.query.web.client.rest.ElasticQueryWebClientErrorHandler]
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:189)
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:331)
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112)
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:338)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1332)
	at il.co.migdal.ins.elastic.query.web.client.ElasticQueryWebClientApplication.main(ElasticQueryWebClientApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.base/java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88)
Caused by: org.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name 'elasticQueryWebClientErrorHandler' for bean class [il.co.migdal.ins.elastic.query.web.client.common.api.error.handler.ElasticQueryWebClientErrorHandler] conflicts with existing, non-compatible bean definition of same name and class [il.co.migdal.ins.elastic.query.web.client.rest.ElasticQueryWebClientErrorHandler]
	at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.checkCandidate(ClassPathBeanDefinitionScanner.java:349)
	at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:287)
	at org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:132)
	at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:296)
	at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:250)
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:207)
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:175)
	... 21 common frames omitted
2021-10-29 18:36:22 [background-preinit] DEBUG org.jboss.logging - Logging Provider: org.jboss.logging.Log4j2LoggerProvider
2021-10-29 18:36:22 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.0.Final
2021-10-29 18:36:22 [main] INFO  i.c.m.i.e.q.w.c.ElasticQueryWebClientApplication - Starting ElasticQueryWebClientApplication v1.0 using Java 11.0.13 on fd2f6e843cb4 with PID 437 (/workspace/BOOT-INF/classes started by root in /workspace)
2021-10-29 18:36:22 [main] INFO  i.c.m.i.e.q.w.c.ElasticQueryWebClientApplication - The following profiles are active: elastic_query_web
2021-10-29 18:36:22 [main] DEBUG o.s.boot.SpringApplication - Loading source class il.co.migdal.ins.elastic.query.web.client.ElasticQueryWebClientApplication
2021-10-29 18:36:22 [background-preinit] DEBUG o.h.v.i.x.config.ValidationXmlParser - Trying to load META-INF/validation.xml for XML based Validator configuration.
2021-10-29 18:36:22 [background-preinit] DEBUG o.h.v.i.x.c.ResourceLoaderHelper - Trying to load META-INF/validation.xml via TCCL
2021-10-29 18:36:22 [background-preinit] DEBUG o.h.v.i.x.c.ResourceLoaderHelper - Trying to load META-INF/validation.xml via Hibernate Validator's class loader
2021-10-29 18:36:22 [background-preinit] DEBUG o.h.v.i.x.config.ValidationXmlParser - No META-INF/validation.xml found. Using annotation based configuration only.
2021-10-29 18:36:22 [background-preinit] DEBUG o.h.v.i.e.r.TraversableResolvers - Cannot find javax.persistence.Persistence on classpath. Assuming non JPA 2 environment. All properties will per default be traversable.
2021-10-29 18:36:22 [background-preinit] DEBUG o.h.v.m.ResourceBundleMessageInterpolator - Loaded expression factory via original TCCL
2021-10-29 18:36:22 [main] DEBUG o.s.c.b.b.BindingSpecificEnvironmentPostProcessor - No Kubernetes Service Bindings found. Skipping Environment post-processing.
2021-10-29 18:36:22 [main] INFO  o.s.b.c.config.ConfigDataLoader - Fetching config from server at : http://config-server:8888
2021-10-29 18:36:22 [main] INFO  o.s.b.c.config.ConfigDataLoader - Located environment: name=elastic-query-web-client,config-client, profiles=[elastic_query_web], label=null, version=59d1ea42b85e8c60e4da9d5c70398cc030cd6d36, state=null
2021-10-29 18:36:22 [main] DEBUG o.s.b.c.config.ConfigDataLoader - Environment elastic-query-web-client,config-client has 2 property sources with 25 properties.
2021-10-29 18:36:22 [main] DEBUG o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6eb82908
2021-10-29 18:36:22 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
2021-10-29 18:36:22 [main] DEBUG o.s.b.f.s.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.internalCachingMetadataReaderFactory'
2021-10-29 18:36:23 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/workspace/BOOT-INF/classes/il/co/migdal/ins/elastic/query/web/client/config/WebClientConfig.class]
2021-10-29 18:36:23 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/workspace/BOOT-INF/classes/il/co/migdal/ins/elastic/query/web/client/config/WebSecurityConfig.class]
2021-10-29 18:36:23 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/workspace/BOOT-INF/classes/il/co/migdal/ins/elastic/query/web/client/rest/ElasticQueryWebClientErrorHandler.class]
2021-10-29 18:36:23 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/workspace/BOOT-INF/classes/il/co/migdal/ins/elastic/query/web/client/rest/QueryController.class]
2021-10-29 18:36:23 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: file [/workspace/BOOT-INF/classes/il/co/migdal/ins/elastic/query/web/client/service/impl/TwitterElasticQueryWebClient.class]
2021-10-29 18:36:23 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/elastic-query-web-client-common-1.0.jar!/il/co/migdal/ins/elastic/query/web/client/common/api/error/handler/ElasticQueryWebClientErrorHandler.class]
2021-10-29 18:36:23 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/UserConfigData.class]
2021-10-29 18:36:23 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/KafkaProducerConfigData.class]
2021-10-29 18:36:23 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/ElasticQueryConfigData.class]
2021-10-29 18:36:23 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/AnalyticsServiceConfigData.class]
2021-10-29 18:36:23 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/ElasticQueryServiceConfigData.class]
2021-10-29 18:36:23 [background-preinit] DEBUG o.h.v.i.e.ValidatorFactoryConfigurationHelper - HV000252: Using org.hibernate.validator.internal.engine.DefaultPropertyNodeNameProvider as property node name provider.
2021-10-29 18:36:23 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/KafkaStreamsServiceConfigData.class]
2021-10-29 18:36:23 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/TwitterToKafkaServiceConfigData.class]
2021-10-29 18:36:23 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/KafkaConfigData.class]
2021-10-29 18:36:23 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/RetryConfigData.class]
2021-10-29 18:36:23 [background-preinit] DEBUG o.h.v.i.e.ValidatorFactoryConfigurationHelper - HV000234: Using org.hibernate.validator.messageinterpolation.ResourceBundleMessageInterpolator as ValidatorFactory-scoped message interpolator.
2021-10-29 18:36:23 [background-preinit] DEBUG o.h.v.i.e.ValidatorFactoryConfigurationHelper - HV000234: Using org.hibernate.validator.internal.engine.resolver.TraverseAllTraversableResolver as ValidatorFactory-scoped traversable resolver.
2021-10-29 18:36:23 [background-preinit] DEBUG o.h.v.i.e.ValidatorFactoryConfigurationHelper - HV000234: Using org.hibernate.validator.internal.util.ExecutableParameterNameProvider as ValidatorFactory-scoped parameter name provider.
2021-10-29 18:36:23 [background-preinit] DEBUG o.h.v.i.e.ValidatorFactoryConfigurationHelper - HV000234: Using org.hibernate.validator.internal.engine.DefaultClockProvider as ValidatorFactory-scoped clock provider.
2021-10-29 18:36:23 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/ElasticQueryWebClientConfigData.class]
2021-10-29 18:36:23 [background-preinit] DEBUG o.h.v.i.e.ValidatorFactoryConfigurationHelper - HV000234: Using org.hibernate.validator.internal.engine.scripting.DefaultScriptEvaluatorFactory as ValidatorFactory-scoped script evaluator factory.
2021-10-29 18:36:23 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/GatewayServiceConfigData.class]
2021-10-29 18:36:23 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/ElasticConfigData.class]
2021-10-29 18:36:23 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/KafkaConsumerConfigData.class]
2021-10-29 18:36:23 [main] DEBUG o.s.c.a.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/workspace/BOOT-INF/lib/app-config-data-1.0.jar!/il/co/migdal/ins/kafka/config/KafkaStreamsConfigData.class]
2021-10-29 18:36:23 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [il.co.migdal.ins.elastic.query.web.client.ElasticQueryWebClientApplication]; nested exception is org.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name 'elasticQueryWebClientErrorHandler' for bean class [il.co.migdal.ins.elastic.query.web.client.common.api.error.handler.ElasticQueryWebClientErrorHandler] conflicts with existing, non-compatible bean definition of same name and class [il.co.migdal.ins.elastic.query.web.client.rest.ElasticQueryWebClientErrorHandler]
2021-10-29 18:36:23 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [il.co.migdal.ins.elastic.query.web.client.ElasticQueryWebClientApplication]; nested exception is org.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name 'elasticQueryWebClientErrorHandler' for bean class [il.co.migdal.ins.elastic.query.web.client.common.api.error.handler.ElasticQueryWebClientErrorHandler] conflicts with existing, non-compatible bean definition of same name and class [il.co.migdal.ins.elastic.query.web.client.rest.ElasticQueryWebClientErrorHandler]
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:189)
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:331)
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112)
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:338)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1332)
	at il.co.migdal.ins.elastic.query.web.client.ElasticQueryWebClientApplication.main(ElasticQueryWebClientApplication.java:12)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.base/java.lang.reflect.Method.invoke(Unknown Source)
	at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)
	at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)
	at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88)
Caused by: org.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name 'elasticQueryWebClientErrorHandler' for bean class [il.co.migdal.ins.elastic.query.web.client.common.api.error.handler.ElasticQueryWebClientErrorHandler] conflicts with existing, non-compatible bean definition of same name and class [il.co.migdal.ins.elastic.query.web.client.rest.ElasticQueryWebClientErrorHandler]
	at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.checkCandidate(ClassPathBeanDefinitionScanner.java:349)
	at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:287)
	at org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:132)
	at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:296)
	at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:250)
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:207)
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:175)
	... 21 common frames omitted
